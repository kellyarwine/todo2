// Test for checkout processor including thread sum calculation

function runTests() {
  console.log('Running tests...');
  
  // Test 1: Calculate thread sum (numbers 4-22)
  const processor = new CheckoutProcessor({ subtotal: 100, items: [] });
  const threadSum = processor.calculateThreadSum();
  const expectedSum = 247; // 4+5+6+7+8+9+10+11+12+13+14+15+16+17+18+19+20+21+22
  
  console.log(`Thread sum test: ${threadSum === expectedSum ? 'PASS' : 'FAIL'}`);
  console.log(`Expected: ${expectedSum}, Got: ${threadSum}`);
  
  // Test 2: Tax calculation for US
  const usTax = processor.calculateTax('US');
  console.log(`US tax test: ${usTax === 8 ? 'PASS' : 'FAIL'}`);
  console.log(`Expected: 8, Got: ${usTax}`);
  
  // Test 3: Currency lookup
  const currency = processor.getCurrency('US');
  console.log(`Currency test: ${currency === 'USD' ? 'PASS' : 'FAIL'}`);
  console.log(`Expected: USD, Got: ${currency}`);
  
  console.log('Tests completed.');
}

// Run tests if this file is executed directly
if (typeof document === 'undefined') {
  // Load the checkout processor for testing
  if (typeof require !== 'undefined') {
    // Node.js environment - we'd need to export/import properly
    runTests();
  }
}
